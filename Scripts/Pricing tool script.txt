DECLARE L_RULES VARCHAR2(500);
BEGIN
L_RULES:=SP_EFORM_UWLIMIT_PRC(TO_DATE('01/01/2016','DD/MM/RRRR'),TO_DATE('30/06/2017','DD/MM/RRRR'));
Dbms_Output.PUT_LINE(L_RULES);
END;  

SELECT   HDR.*,DTL.ANNUALLIMIT,DTL.OPLIMIT,DTL.IPLIMIT,DTL.MATLIMIT,DTL.DENTALLIMIT,DTL.OPTICALLIMIT,
DTL.PBMLIMIT,DTL.IPDEDUCTIBLE,DTL.IPCOINSURANCE,DTL.OPDEDUCTIBLE,DTL.OPCOINSURANCE,DTL.MATDEDUCTIBLE,
DTL.MATCOINSURANCE,DTL.DENTALDEDUCTIBLE,DTL.DENTALCOINSURANCE,DTL.PBMDEDUCTIBLE,DTL.PBMCOINSURANCE,
DTL.OPTICALDEDUCTIBLE,DTL.OPTICALCOINSURANCE FROM IM_EFORM_PRICING_HDR HDR 
LEFT JOIN IM_EFORM_UW_PRC_LIMIT DTL ON DTL.POLICYCODE = HDR.POLICYCODE   
WHERE Decode(Upper(HDR.POLICYTYPE),'GROUP',1,'INDIVIDUAL',2) = DTL.POLICYTYPE
AND DTL.CATEGORYCODE = HDR.CATEGORYCODE AND
HDR.MANAGEDBY = 'NGI' AND ENDORESMENTDATE BETWEEN To_Date('01/01/2016','DD/MM/RRRR')
AND To_Date('30/06/2017','DD/MM/RRRR')
