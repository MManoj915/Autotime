DECLARE L_PASSWORD VARCHAR2(100);
BEGIN
FOR HDR IN(SELECT   
MEMBER_CODE,FIRST_NAME,REPLACE(REPLACE(REPLACE(FIRST_NAME,'.',''),'-',''),' ','') PNAME,DATE_OF_BIRTH,PASSWORD 
FROM IM_MEMBERS WHERE SubStr(PASSWORD,4,1) = ' ') LOOP
L_PASSWORD := SubStr(HDR.PNAME,0,4)||To_Char(HDR.DATE_OF_BIRTH,'DD')||To_Char(HDR.DATE_OF_BIRTH,'MM')||To_Char(HDR.DATE_OF_BIRTH,'RRRR');
UPDATE IM_MEMBERS SET PASSWORD = L_PASSWORD WHERE MEMBER_CODE = HDR.MEMBER_CODE;
COMMIT;
END LOOP;
END;